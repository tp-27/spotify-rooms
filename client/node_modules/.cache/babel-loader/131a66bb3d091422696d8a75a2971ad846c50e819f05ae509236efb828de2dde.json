{"ast":null,"code":"var _jsxFileName = \"/Users/thomasphan/Desktop/listen-with-me-app/client/src/components/Key.js\",\n  _s = $RefreshSig$();\nimport { useState, useRef } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport KeyContainer from './KeyContainer';\nimport '../index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Key = ({\n  user,\n  newRoom\n}) => {\n  _s();\n  const [key, setKey] = useState('');\n  const [room, setRoom] = useState('');\n  const getKey = async e => {\n    // get room name\n    if (room === '') {\n      alert('Please enter a room name');\n      return;\n    }\n\n    // get a new key from server\n    const newSession = await fetch('http://localhost:3001/key/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        sessionUser: [user],\n        sessionName: room\n      })\n    });\n    const newKey = await newSession.json();\n    console.log(newKey);\n    setKey(newKey.sessionKey); // set the new key\n    newRoom(newKey.sessionKey, newKey.sessionName); // pass key back to parent\n  };\n  const onInput = e => {\n    setRoom(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !key ? /*#__PURE__*/_jsxDEV(Form, {\n      style: {\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        onChange: onInput,\n        value: room\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        onClick: getKey,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(KeyContainer, {}, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this)\n    }, void 0, false)\n  }, void 0, false);\n};\n_s(Key, \"Pif49WTDLbrJMz+RVs9qYQ/qms8=\");\n_c = Key;\nexport default Key;\nvar _c;\n$RefreshReg$(_c, \"Key\");","map":{"version":3,"names":["useState","useRef","Button","Form","KeyContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","Key","user","newRoom","_s","key","setKey","room","setRoom","getKey","e","alert","newSession","fetch","method","headers","body","JSON","stringify","sessionUser","sessionName","newKey","json","console","log","sessionKey","onInput","target","value","children","style","width","Label","fileName","_jsxFileName","lineNumber","columnNumber","Control","type","onChange","variant","onClick","_c","$RefreshReg$"],"sources":["/Users/thomasphan/Desktop/listen-with-me-app/client/src/components/Key.js"],"sourcesContent":["import { useState, useRef } from 'react'\nimport Button from 'react-bootstrap/Button'\nimport Form from 'react-bootstrap/Form'\nimport KeyContainer from './KeyContainer'\nimport '../index.css';\n\nconst Key = ({ user, newRoom }) => {\n    const [key, setKey] = useState('')\n    const [room, setRoom] = useState('')\n\n    const getKey = async (e) => {\n        // get room name\n        if (room === '') {\n            alert('Please enter a room name')\n            return\n        } \n\n        // get a new key from server\n        const newSession = await fetch('http://localhost:3001/key/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                sessionUser: [user],\n                sessionName: room \n            })\n        })\n\n        const newKey = await newSession.json()\n        console.log(newKey)\n        setKey(newKey.sessionKey) // set the new key\n        newRoom(newKey.sessionKey, newKey.sessionName) // pass key back to parent\n    }\n\n    const onInput = (e) => {\n        setRoom(e.target.value)\n    }\n\n    return (\n        <>\n            {!key ? \n                <Form style={{ width: \"100%\" }}> \n                    <Form.Label>Name:</Form.Label>\n                    <Form.Control type=\"text\" onChange={onInput} value={room} />\n                    <Button variant=\"primary\" type=\"submit\" onClick={getKey}>\n                        Submit\n                    </Button>\n                </Form> :\n                <>\n                    <KeyContainer key={key}/>\n                </>\n            } \n        </>\n    )\n}\n\nexport default Key"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AACxC,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,OAAOC,IAAI,MAAM,sBAAsB;AACvC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAO,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEtB,MAAMC,GAAG,GAAGA,CAAC;EAAEC,IAAI;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAC/B,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACe,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAEpC,MAAMiB,MAAM,GAAG,MAAOC,CAAC,IAAK;IACxB;IACA,IAAIH,IAAI,KAAK,EAAE,EAAE;MACbI,KAAK,CAAC,0BAA0B,CAAC;MACjC;IACJ;;IAEA;IACA,MAAMC,UAAU,GAAG,MAAMC,KAAK,CAAC,4BAA4B,EAAE;MACzDC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjBC,WAAW,EAAE,CAACjB,IAAI,CAAC;QACnBkB,WAAW,EAAEb;MACjB,CAAC;IACL,CAAC,CAAC;IAEF,MAAMc,MAAM,GAAG,MAAMT,UAAU,CAACU,IAAI,CAAC,CAAC;IACtCC,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC;IACnBf,MAAM,CAACe,MAAM,CAACI,UAAU,CAAC,EAAC;IAC1BtB,OAAO,CAACkB,MAAM,CAACI,UAAU,EAAEJ,MAAM,CAACD,WAAW,CAAC,EAAC;EACnD,CAAC;EAED,MAAMM,OAAO,GAAIhB,CAAC,IAAK;IACnBF,OAAO,CAACE,CAAC,CAACiB,MAAM,CAACC,KAAK,CAAC;EAC3B,CAAC;EAED,oBACI9B,OAAA,CAAAE,SAAA;IAAA6B,QAAA,EACK,CAACxB,GAAG,gBACDP,OAAA,CAACH,IAAI;MAACmC,KAAK,EAAE;QAAEC,KAAK,EAAE;MAAO,CAAE;MAAAF,QAAA,gBAC3B/B,OAAA,CAACH,IAAI,CAACqC,KAAK;QAAAH,QAAA,EAAC;MAAK;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eAC9BtC,OAAA,CAACH,IAAI,CAAC0C,OAAO;QAACC,IAAI,EAAC,MAAM;QAACC,QAAQ,EAAEb,OAAQ;QAACE,KAAK,EAAErB;MAAK;QAAA0B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC5DtC,OAAA,CAACJ,MAAM;QAAC8C,OAAO,EAAC,SAAS;QAACF,IAAI,EAAC,QAAQ;QAACG,OAAO,EAAEhC,MAAO;QAAAoB,QAAA,EAAC;MAEzD;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,gBACPtC,OAAA,CAAAE,SAAA;MAAA6B,QAAA,eACI/B,OAAA,CAACF,YAAY,MAAMS,GAAG;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC,gBAC3B;EAAC,gBAET,CAAC;AAEX,CAAC;AAAAhC,EAAA,CAjDKH,GAAG;AAAAyC,EAAA,GAAHzC,GAAG;AAmDT,eAAeA,GAAG;AAAA,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}